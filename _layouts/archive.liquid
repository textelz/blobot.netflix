---
layout: page
---

<div class="home">
    <div id="archive">
        {% assign all_posts = '' | split: '' %}
        {% comment %} 먼저 _posts의 모든 파일 포함 (하위 폴더 포함) {% endcomment %}
        {% if site.posts and site.posts.size > 0 %}
            {% assign all_posts = site.posts %}
        {% endif %}
        {% comment %} 그 다음 컬렉션들 추가 {% endcomment %}
        {% for collection in site.collections %}
            {% unless collection.label == 'posts' or collection.label == 'data' or collection.label == 'portfolio' %}
                {% assign collection_docs = site[collection.label] %}
                {% if collection_docs and collection_docs.size > 0 %}
                    {% if all_posts.size > 0 %}
                        {% assign all_posts = all_posts | concat: collection_docs %}
                    {% else %}
                        {% assign all_posts = collection_docs %}
                    {% endif %}
                {% endif %}
            {% endunless %}
        {% endfor %}
        {% assign postsByYear = all_posts | group_by_exp:"post", "post.date | date: '%Y'"  %}
        <ul class="archive-clouds">
            {% for year in postsByYear %}
                <a href="#archive-{{ year.name | cgi_escape }}" class="archive-anchor">
                    <li>
                        {{ year.name | cgi_escape }} ({{year.items.size}})
                    </li>
                </a>
            {% endfor %}
        </ul>
        {% for year in postsByYear %}
            <div class="archive-group">
                <h4 id="archive-{{year.name}}" class="title">{{ year.name }} ({{year.items.size}})</h4>
                <div class="items">
                    {% for post in year.items %}
                        <a href="{{ post.url | relative_url }}" class="archive-post-link">
                            <div class="item">
                                <p class="meta">{{ post.date | date: site.data.language.str_date_format | default: '%B %-d, %Y' }}</p>
                                <p class="title">{{ post.title }}</p>
                            </div>
                        </a>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>
</div>